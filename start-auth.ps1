$env:GOTRUE_LOG_LEVEL = "debug"
$env:GOTRUE_API_HOST = "0.0.0.0"
$env:GOTRUE_API_PORT = "9999"
$env:API_EXTERNAL_URL = "http://localhost:8001"
$env:GOTRUE_DB_DRIVER = "postgres"
$env:GOTRUE_DB_DATABASE_URL = "postgres://supabase_auth_admin:ekJi0TqKmVX66aC93iP%21@supabase-ostrich-db:5433/postgres"
$env:GOTRUE_SITE_URL = "http://localhost:3000"
$env:GOTRUE_JWT_SECRET = "s0q//XOZQJxpx9FkOCsSbzssi5OCKYKh/U/N08QK/po="
$env:GOTRUE_JWT_EXP = "3600"
$env:GOTRUE_JWT_DEFAULT_GROUP_NAME = "authenticated"
$env:GOTRUE_MAILER_AUTOCONFIRM = "true"
$env:GOTRUE_MAILER_EXTERNAL_HOSTS = "localhost,127.0.0.1"
$env:GOTRUE_MAILER_EXTERNAL_PROTO = "http"
$env:GOTRUE_MAILER_EXTERNAL_PORT = "3000"
$env:GOTRUE_DISABLE_SIGNUP = "false"
$env:GOTRUE_DISABLE_EXTERNAL_PROVIDERS = "true"
$env:GOTRUE_DISABLE_PHONE_SIGNUP = "true"
$env:GOTRUE_DISABLE_PHONE_CONFIRMATION = "true"
$env:GOTRUE_DISABLE_EMAIL_SIGNUP = "false"
$env:GOTRUE_DISABLE_EMAIL_CONFIRMATION = "true"
$env:GOTRUE_URI_ALLOW_LIST = ""
$env:GOTRUE_JWT_ADMIN_ROLES = "service_role"
$env:GOTRUE_JWT_AUD = "authenticated"
$env:GOTRUE_EXTERNAL_EMAIL_ENABLED = "true"
$env:GOTRUE_EXTERNAL_ANONYMOUS_USERS_ENABLED = "false"
$env:GOTRUE_MAILER_URLPATHS_CONFIRMATION = "/auth/v1/verify"
$env:GOTRUE_MAILER_URLPATHS_INVITE = "/auth/v1/verify"
$env:GOTRUE_MAILER_URLPATHS_RECOVERY = "/auth/v1/verify"
$env:GOTRUE_MAILER_URLPATHS_EMAIL_CHANGE = "/auth/v1/verify"

docker run --rm --name supabase-ostrich-auth `
    --network supabase-ostrich_default `
    -e GOTRUE_LOG_LEVEL=$env:GOTRUE_LOG_LEVEL `
    -e GOTRUE_API_HOST=$env:GOTRUE_API_HOST `
    -e GOTRUE_API_PORT=$env:GOTRUE_API_PORT `
    -e API_EXTERNAL_URL=$env:API_EXTERNAL_URL `
    -e GOTRUE_DB_DRIVER=$env:GOTRUE_DB_DRIVER `
    -e GOTRUE_DB_DATABASE_URL=$env:GOTRUE_DB_DATABASE_URL `
    -e GOTRUE_SITE_URL=$env:GOTRUE_SITE_URL `
    -e GOTRUE_JWT_SECRET=$env:GOTRUE_JWT_SECRET `
    -e GOTRUE_JWT_EXP=$env:GOTRUE_JWT_EXP `
    -e GOTRUE_JWT_DEFAULT_GROUP_NAME=$env:GOTRUE_JWT_DEFAULT_GROUP_NAME `
    -e GOTRUE_MAILER_AUTOCONFIRM=$env:GOTRUE_MAILER_AUTOCONFIRM `
    -e GOTRUE_MAILER_EXTERNAL_HOSTS=$env:GOTRUE_MAILER_EXTERNAL_HOSTS `
    -e GOTRUE_MAILER_EXTERNAL_PROTO=$env:GOTRUE_MAILER_EXTERNAL_PROTO `
    -e GOTRUE_MAILER_EXTERNAL_PORT=$env:GOTRUE_MAILER_EXTERNAL_PORT `
    -e GOTRUE_DISABLE_SIGNUP=$env:GOTRUE_DISABLE_SIGNUP `
    -e GOTRUE_DISABLE_EXTERNAL_PROVIDERS=$env:GOTRUE_DISABLE_EXTERNAL_PROVIDERS `
    -e GOTRUE_DISABLE_PHONE_SIGNUP=$env:GOTRUE_DISABLE_PHONE_SIGNUP `
    -e GOTRUE_DISABLE_PHONE_CONFIRMATION=$env:GOTRUE_DISABLE_PHONE_CONFIRMATION `
    -e GOTRUE_DISABLE_EMAIL_SIGNUP=$env:GOTRUE_DISABLE_EMAIL_SIGNUP `
    -e GOTRUE_DISABLE_EMAIL_CONFIRMATION=$env:GOTRUE_DISABLE_EMAIL_CONFIRMATION `
    -e GOTRUE_URI_ALLOW_LIST=$env:GOTRUE_URI_ALLOW_LIST `
    -e GOTRUE_JWT_ADMIN_ROLES=$env:GOTRUE_JWT_ADMIN_ROLES `
    -e GOTRUE_JWT_AUD=$env:GOTRUE_JWT_AUD `
    -e GOTRUE_EXTERNAL_EMAIL_ENABLED=$env:GOTRUE_EXTERNAL_EMAIL_ENABLED `
    -e GOTRUE_EXTERNAL_ANONYMOUS_USERS_ENABLED=$env:GOTRUE_EXTERNAL_ANONYMOUS_USERS_ENABLED `
    -e GOTRUE_MAILER_URLPATHS_CONFIRMATION=$env:GOTRUE_MAILER_URLPATHS_CONFIRMATION `
    -e GOTRUE_MAILER_URLPATHS_INVITE=$env:GOTRUE_MAILER_URLPATHS_INVITE `
    -e GOTRUE_MAILER_URLPATHS_RECOVERY=$env:GOTRUE_MAILER_URLPATHS_RECOVERY `
    -e GOTRUE_MAILER_URLPATHS_EMAIL_CHANGE=$env:GOTRUE_MAILER_URLPATHS_EMAIL_CHANGE `
    -p 9999:9999 `
    supabase/gotrue:v2.171.0 auth serve